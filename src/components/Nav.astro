---
import Link from "./Link.astro";
const { pathname } = Astro.url; // Get current path
---

<nav role="navigation" class="fixed bottom-0 left-0 flex justify-center w-full rounded-lg pointer-events-none group z-50" x-data="{ open: false }">
  <button aria-expanded="true" name="menu button" class="bg-black rounded-lg w-14 max-w-16 max-h-16 border-4 border-black group z-50 group peer relative">
    <input @click="open = !open" type="checkbox" role="button" class="hidden peer menuCB" id="menu" aria-describedby="menu" aria-expanded="false" name="menu" aria-label="Toggle navigation"/>

    <label for="menu" id="menuid" class="cursor-pointer group-hover:-translate-y-4">
      <div class="flex flex-col justify-center items-center gap-1 p-3 bg-accent rounded-[4px] mb-2 group-hover:mb-4 duration-200 pointer-events-auto">
        <span id="top" :class="{'w-full translate-y-2 -rotate-[40deg]': open, '': !open}" class="lines w-2/4"></span>

        <span :class="{'w-0 opacity-0': open, '': !open}" id="middle" class="lines w-3/4"></span>

        <span :class="{'-translate-y-2 rotate-[40deg]': open, '': !open}" id="bottom" class="lines w-full"></span>
      </div>

      <div class="w-full fixed bottom-0 left-0 border-b-8 border-black"></div>
    </label>

    <span class="absolute top-2 -right-2 translate-x-full bg-black rounded-md px-1 text-white">Menu</span>
  </button>

  <!-- Menu -->
  <ul class="flex gap-8 flex-col justify-center items-center w-full text-white fixed bottom-0 left-0 h-0 peer-has-[:checked]:h-full overflow-clip duration-700 rounded-xl pointer-events-auto bg-accent z-40">
    <li class="overflow-clip">
      <div class="menulink">
        <Link url="/" classes="nav-link" currentPath={pathname}>Home</Link>
      </div>
    </li>

    <li class="overflow-clip">
      <div class="menulink">
        <Link url="/over-ons" classes="nav-link" currentPath={pathname}>Over ons</Link>
      </div>
    </li>

    <li class="overflow-clip">
      <div class="menulink">
        <Link url="/projecten" classes="nav-link" currentPath={pathname}>Projecten</Link>
      </div>
    </li>

    <li class="overflow-clip">
      <div class="menulink">
        <Link url="/contact" classes="nav-link" currentPath={pathname}>Contact</Link>
      </div>
    </li>
  </ul>
</nav>