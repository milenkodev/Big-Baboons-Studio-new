---
import Logo from "../assets/images/Logo.astro";
import Link from "../components/Link.astro";
import Section from "../components/Section.astro";
import BaseLayout from "../layout/BaseLayout.astro";
import { Image } from "astro:assets";
import PointingDown from "../assets/icons/PointingDown.astro";
---

<BaseLayout>
  <Section
    classes=" bg-white flex flex-col justify-center items-center heroSection overflow-clip"
  >
    <div class="flex justify-between w-full items-center">
  
        <a href="/" class=""><Logo/></a>
  
      <Link classes="cta" url="contact">Let's have a chat!</Link>
    </div>
    <div class="grow flex flex-col items-center justify-center">
      <div class="overflow-clip"><h1 class="hero-text">We build</h1></div>
      <div class="overflow-clip"><h1 class="hero-text">dope websites</h1></div>

      <div
        class="marquee__wrapper relative mt-4 gap-3 duration-300 before:absolute before:inset-0 before:h-full before:w-full before:bg-gradient-to-r from-white via-white/0 to-white before:z-10"
      >
        <ul class="marquee">
          <li>Web Development</li>
          <li>Web Design</li>
          <li>E-Commerce</li>
          <li>SEO Optimisation</li>
        </ul>
        <ul class="marquee2">
          <li>Web Development</li>
          <li>Web Design</li>
          <li>E-Commerce</li>
          <li>SEO Optimisation</li>
        </ul>
      </div>

      <div
        class="absolute bottom-0 right-4 md:right-[clamp(1rem,_0.4rem_+_3vw,_4rem)] max-w-16"
      >
        <PointingDown />
      </div>
    </div>
  </Section>
  <Section
    classes=" text-white flex flex-col justify-center items-center bg-to-the-point  to-the-point overflow-clip bg-black "
  >
    <h1 class="to-the-point-text-1">Straight to</h1>
    <h1 class="to-the-point-text-2">the point</h1>
  </Section>

  <Section
    classes="  indexCards w-full bg-white  flex flex-col justify-center items-center place-items-start gap-6 explainSection "
  >
    <div class="overflow-clip max-w-screen-lg">
      <h2 class="explain-title">we design & develop your website.</h2>
    </div>
    <div class="overflow-clip max-w-screen-lg">
      <p class="explain-text overflow-clip">
        We'll elevate your website into a digital masterpiece, connecting you
        with a wider audience and turning not just your locals. Our website are
        always SEO-friendly to ensures you're always seen and chosen by your
        target audience. No limits hereâ€”we'll help you reach customers wherever
        they are, breaking down barriers for business growth. And when it comes
        to online sales, our e-commerce solutions are second to none, driving up
        revenue and customer satisfaction.
      </p>
    </div>
    <div class="max-w-screen-lg w-full text-center pb-1 overflow-clip">
      <Link classes="cta  self-start w-fit explainBtn" url="about"
        >More about us</Link
      >
    </div>
  </Section>
  <Section classes=" indexCards bg-white relative flex group">
    <div
      class="grow flex flex-col items-center justify-center absolute inset-0 duration-300 z-10 group-hover:bg-black/50 bg-black/0"
    >
      <a
        href="work/superdisco"
        class="work-titles text-white opacity-0 group-hover:opacity-100 duration-300"
        >Superdisco</a
      >
    </div>
    <div class="absolute inset-0 rounded-3xl block overflow-clip">
      <Image
        src="https://res.cloudinary.com/dw9zgtd2v/image/upload/f_auto,q_auto/v1/superdisco/superdisco-mockup-1"
        alt="Superdisco webiste mockup"
        widths={[480, 720, 1920, 2500]}
        sizes={`(max-width: 540px) 480px, (max-width: 720px) 720px, (max-width: 1920px) 1920px, 2500px`}
        inferSize={true}
        format="webp"
        class="h-full w-full object-contain scale-150 md:object-cover md:scale-100 rounded-3xl"
      />
    </div>
  </Section>
  <Section classes=" indexCards bg-white relative flex group">
    <div
      class="grow flex flex-col items-center justify-center absolute inset-0 duration-300 z-10 group-hover:bg-black/50  bg-black/0"
    >
      <a
        href="work/gentlemens-barber-club"
        class="work-titles text-white opacity-0 group-hover:opacity-100 duration-300"
        >Gentlemens Barber Club</a
      >
    </div>
    <div class="absolute inset-0 rounded-3xl block overflow-clip">
      <Image
        src="https://res.cloudinary.com/dw9zgtd2v/image/upload/v1716890880/gbc/gbc-mockup-1_hrn6u2.webp "
        alt="Superdisco webiste mockup"
        widths={[480, 720, 1920, 2500]}
        sizes={`(max-width: 540px) 480px, (max-width: 720px) 720px, (max-width: 1920px) 1920px, 2500px`}
        inferSize={true}
        format="webp"
        class="h-full w-full object-contain scale-150 md:object-cover md:scale-100 rounded-3xl"
      />
    </div>
  </Section>
  <Section classes="bg-white relative flex group">
    <div
      class="grow flex flex-col items-center justify-center absolute inset-0 duration-300 z-10 group-hover:bg-black/50 bg-black/0"
    >
      <a
        href="work/ishmael-zouitni"
        class="work-titles text-white opacity-0 group-hover:opacity-100 duration-300"
        >Ishmael Zouitni</a
      >
    </div>
    <div class="absolute inset-0 rounded-3xl block overflow-clip">
      <Image
        src="https://res.cloudinary.com/dw9zgtd2v/image/upload/v1716890911/ishmael-zouitni/ishi-mobile-mockup_kmzo4t.webp"
        alt="Superdisco webiste mockup"
        widths={[480, 720, 1920, 2500]}
        sizes={`(max-width: 540px) 480px, (max-width: 720px) 720px, (max-width: 1920px) 1920px, 2500px`}
        inferSize={true}
        format="webp"
        class="h-full w-full object-contain scale-150 md:object-cover md:scale-100 rounded-3xl"
      />
    </div>
  </Section>
</BaseLayout>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  gsap.registerPlugin(ScrollTrigger);

  document.addEventListener("DOMContentLoaded", () => {
    // let mm = gsap.matchMedia();
    // mm.add("(min-width: 426px)", () => {
      const explainTitle = document.querySelector(".explain-title");
      const explainText = document.querySelector(".explain-text");
      const explainSection = document.querySelector(".explainSection");
      // const explainBtn = document.querySelector(".explainBtn");

      const explainTl = gsap.timeline({
        scrollTrigger: {
          trigger: explainSection,
          start: "top center",
          end: "bottom bottom",
          scrub: 1,
          // markers: true,
        },
      });

      explainTl
        .from(
          explainTitle,
          {
            yPercent: 100,
            transformOrigin: "center",
            // duration: 1,
            ease: "power1",
          },
          0
        )
        .from(
          explainText,
          {
            yPercent: 100,
            transformOrigin: "center",
            // duration: 1.5,
            ease: "power1",
          },
          0.3
        );

      const toThePointSection = document.querySelector(".to-the-point");
      const toThePointText = document.querySelectorAll(".to-the-point-text-1");
      const toThePointText2 = document.querySelectorAll(".to-the-point-text-2");

      const tlttp = gsap.timeline({
        scrollTrigger: {
          trigger: toThePointSection,
          start: "top center+=400",
          end: "bottom bottom",
          scrub: 2,
          // markers: true,
        },
      });

      tlttp
        .from(
          toThePointText,
          {
            xPercent: 200,

            ease: "power4",
          },
          0
        )
        .from(
          toThePointText2,
          {
            xPercent: -200,

            ease: "power4",
          },
          0
        );
    // });
  });
</script>
